# üõ°Ô∏è CLOUDFLARE: –ü–û–®–ê–ì–û–í–ê–Ø –ò–ù–°–¢–†–£–ö–¶–ò–Ø

## üìã –ß–¢–û –ù–£–ñ–ù–û –°–î–ï–õ–ê–¢–¨ (–ü–û –ü–û–†–Ø–î–ö–£)

### ‚úÖ –≠–¢–ê–ü 1: –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–∞ Cloudflare (5 –º–∏–Ω—É—Ç)

1. –û—Ç–∫—Ä–æ–π—Ç–µ https://cloudflare.com
2. –ù–∞–∂–º–∏—Ç–µ **Sign Up**
3. –í–≤–µ–¥–∏—Ç–µ email: `admin@aladdin.family`
4. –°–æ–∑–¥–∞–π—Ç–µ –ø–∞—Ä–æ–ª—å
5. –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ email

**–°—Ç–∞—Ç—É—Å:** –ê–∫–∫–∞—É–Ω—Ç —Å–æ–∑–¥–∞–Ω ‚úÖ

---

### ‚úÖ –≠–¢–ê–ü 2: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –¥–æ–º–µ–Ω–∞ (10 –º–∏–Ω—É—Ç)

1. –í dashboard –Ω–∞–∂–º–∏—Ç–µ **Add Site**
2. –í–≤–µ–¥–∏—Ç–µ –¥–æ–º–µ–Ω: `aladdin.family`
3. –í—ã–±–µ—Ä–∏—Ç–µ –ø–ª–∞–Ω: **FREE** (–±–µ—Å–ø–ª–∞—Ç–Ω–æ!)
4. –ù–∞–∂–º–∏—Ç–µ **Continue**

**–ß—Ç–æ –ø–æ–ª—É—á–∏—Ç–µ –±–µ—Å–ø–ª–∞—Ç–Ω–æ:**
- ‚úÖ DDoS –∑–∞—â–∏—Ç–∞ (–¥–æ 100 –ì–±–∏—Ç/—Å)
- ‚úÖ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
- ‚úÖ CDN (—É—Å–∫–æ—Ä–µ–Ω–∏–µ)
- ‚úÖ WAF (–±–∞–∑–æ–≤—ã–µ –ø—Ä–∞–≤–∏–ª–∞)
- ‚úÖ Analytics

**–°—Ç–∞—Ç—É—Å:** –î–æ–º–µ–Ω –¥–æ–±–∞–≤–ª–µ–Ω ‚úÖ

---

### ‚úÖ –≠–¢–ê–ü 3: –°–º–µ–Ω–∞ NS –∑–∞–ø–∏—Å–µ–π (15-30 –º–∏–Ω—É—Ç)

#### Cloudflare –ø–æ–∫–∞–∂–µ—Ç 2 nameserver:

```
ns1.cloudflare.com
ns2.cloudflare.com
```

#### –î–µ–π—Å—Ç–≤–∏—è:

1. –ó–∞–π–¥–∏—Ç–µ –∫ –≤–∞—à–µ–º—É —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É –¥–æ–º–µ–Ω–∞ (–≥–¥–µ –∫—É–ø–∏–ª–∏ aladdin.family)
2. –ù–∞–π–¥–∏—Ç–µ —Ä–∞–∑–¥–µ–ª **DNS Management** –∏–ª–∏ **Nameservers**
3. –ó–∞–º–µ–Ω–∏—Ç–µ —Ç–µ–∫—É—â–∏–µ NS –Ω–∞:
   ```
   ns1.cloudflare.com
   ns2.cloudflare.com
   ```
4. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

**–û–∂–∏–¥–∞–Ω–∏–µ:** 5 –º–∏–Ω—É—Ç - 48 —á–∞—Å–æ–≤ (–æ–±—ã—á–Ω–æ 30 –º–∏–Ω—É—Ç)

**–°—Ç–∞—Ç—É—Å:** NS –æ–±–Ω–æ–≤–ª–µ–Ω—ã ‚úÖ

---

### ‚úÖ –≠–¢–ê–ü 4: SSL/TLS –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (2 –º–∏–Ω—É—Ç—ã)

–ü–æ—Å–ª–µ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ –¥–æ–º–µ–Ω–∞:

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **SSL/TLS**
2. –í—ã–±–µ—Ä–∏—Ç–µ —Ä–µ–∂–∏–º: **Full (strict)**
3. –í–∫–ª—é—á–∏—Ç–µ:
   - ‚úÖ **Always Use HTTPS**
   - ‚úÖ **Automatic HTTPS Rewrites**
   - ‚úÖ **TLS 1.3**

**–°—Ç–∞—Ç—É—Å:** SSL –Ω–∞—Å—Ç—Ä–æ–µ–Ω ‚úÖ

---

### ‚úÖ –≠–¢–ê–ü 5: Firewall Rules (10 –º–∏–Ω—É—Ç)

#### –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Security ‚Üí WAF**

#### –ü—Ä–∞–≤–∏–ª–æ 1: –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –ø–ª–æ—Ö–∏—Ö –±–æ—Ç–æ–≤
```
Rule name: Block Bad Bots
Expression: (cf.client.bot) and not (cf.verified_bot_category in {"Search Engine Crawler"})
Action: Block
```

#### –ü—Ä–∞–≤–∏–ª–æ 2: Rate Limit –Ω–∞ –ª–æ–≥–∏–Ω
```
Rule name: Rate Limit Login
Expression: (http.request.uri.path eq "/api/auth/login")
Action: Challenge
Rate: 5 requests per 60 seconds
```

#### –ü—Ä–∞–≤–∏–ª–æ 3: –ó–∞—â–∏—Ç–∞ API
```
Rule name: Protect API
Expression: (http.request.uri.path contains "/api/")
Action: Managed Challenge
```

#### –ü—Ä–∞–≤–∏–ª–æ 4: –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ SQL Injection
```
Rule name: Block SQL Injection
Expression: (http.request.uri.query contains "UNION" or http.request.uri.query contains "SELECT")
Action: Block
```

#### –ü—Ä–∞–≤–∏–ª–æ 5: –†–∞–∑—Ä–µ—à–∏—Ç—å –º–æ–±–∏–ª—å–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
```
Rule name: Allow Mobile Apps
Expression: (http.user_agent contains "ALADDIN-iOS" or http.user_agent contains "ALADDIN-Android")
Action: Skip
Skip: All remaining WAF rules
```

**–°—Ç–∞—Ç—É—Å:** Firewall –Ω–∞—Å—Ç—Ä–æ–µ–Ω ‚úÖ

---

### ‚úÖ –≠–¢–ê–ü 6: Rate Limiting (5 –º–∏–Ω—É—Ç)

–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Security ‚Üí Rate Limiting Rules**

#### –ü—Ä–∞–≤–∏–ª–æ 1: API Global Limit
```
Name: API Global Rate Limit
URL: aladdin.family/api/*
Threshold: 300 requests per 60 seconds
Action: Block
Duration: 3600 seconds (1 —á–∞—Å)
```

#### –ü—Ä–∞–≤–∏–ª–æ 2: Registration Limit
```
Name: Registration Rate Limit
URL: aladdin.family/api/family/create
Threshold: 3 requests per 3600 seconds (1 —á–∞—Å)
Action: Block
Duration: 86400 seconds (24 —á–∞—Å–∞)
```

#### –ü—Ä–∞–≤–∏–ª–æ 3: Login Limit
```
Name: Login Rate Limit
URL: aladdin.family/api/auth/*
Threshold: 10 requests per 300 seconds (5 –º–∏–Ω—É—Ç)
Action: Challenge
Duration: 900 seconds (15 –º–∏–Ω—É—Ç)
```

**–°—Ç–∞—Ç—É—Å:** Rate Limiting –Ω–∞—Å—Ç—Ä–æ–µ–Ω ‚úÖ

---

### ‚úÖ –≠–¢–ê–ü 7: Caching (3 –º–∏–Ω—É—Ç—ã)

–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Caching ‚Üí Configuration**

#### –ù–∞—Å—Ç—Ä–æ–π–∫–∏:

1. **Cache Level:** Standard
2. **Browser Cache TTL:** 4 hours
3. **Always Online:** ON

#### Page Rules (Caching ‚Üí Page Rules):

**Rule 1: –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç–∏–∫–∏**
```
URL: aladdin.family/static/*
Settings:
  - Cache Level: Cache Everything
  - Edge Cache TTL: 1 day
  - Browser Cache TTL: 1 day
```

**Rule 2: –ù–ï –∫—ç—à–∏—Ä–æ–≤–∞—Ç—å API**
```
URL: aladdin.family/api/*
Settings:
  - Cache Level: Bypass
```

**Rule 3: –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ HTML**
```
URL: aladdin.family/*.html
Settings:
  - Cache Level: Cache Everything
  - Edge Cache TTL: 1 hour
```

**–°—Ç–∞—Ç—É—Å:** –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ ‚úÖ

---

### ‚úÖ –≠–¢–ê–ü 8: Security Headers (5 –º–∏–Ω—É—Ç)

–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Security ‚Üí Settings**

–í–∫–ª—é—á–∏—Ç–µ:
- ‚úÖ **Browser Integrity Check**
- ‚úÖ **Privacy Pass Support**
- ‚úÖ **Security Level:** High

#### Transform Rules ‚Üí HTTP Response Headers:

–î–æ–±–∞–≤—å—Ç–µ headers:

```
X-Content-Type-Options: nosniff
X-Frame-Options: DENY
X-XSS-Protection: 1; mode=block
Referrer-Policy: strict-origin-when-cross-origin
Strict-Transport-Security: max-age=31536000; includeSubDomains; preload
```

**–°—Ç–∞—Ç—É—Å:** Security Headers –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã ‚úÖ

---

### ‚úÖ –≠–¢–ê–ü 9: Bot Management (2 –º–∏–Ω—É—Ç—ã)

–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Security ‚Üí Bots**

1. **Bot Fight Mode:** ON
2. **Super Bot Fight Mode:** ON (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–Ω–æ)
3. **Verified Bots:** Allow (Google, Yandex, Bing)

**–°—Ç–∞—Ç—É—Å:** Bot Protection –Ω–∞—Å—Ç—Ä–æ–µ–Ω ‚úÖ

---

### ‚úÖ –≠–¢–ê–ü 10: Performance (3 –º–∏–Ω—É—Ç—ã)

–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Speed ‚Üí Optimization**

–í–∫–ª—é—á–∏—Ç–µ:
- ‚úÖ **Auto Minify:** HTML, CSS, JavaScript
- ‚úÖ **Brotli Compression**
- ‚úÖ **Early Hints**
- ‚úÖ **HTTP/2**
- ‚úÖ **HTTP/3 (QUIC)**
- ‚ùå **Rocket Loader:** OFF (–¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π)

**–°—Ç–∞—Ç—É—Å:** Performance –Ω–∞—Å—Ç—Ä–æ–µ–Ω ‚úÖ

---

### ‚úÖ –≠–¢–ê–ü 11: Analytics & Alerts (5 –º–∏–Ω—É—Ç)

#### –í–∫–ª—é—á–∏—Ç–µ Analytics:

1. **Web Analytics:** ON
2. **Firewall Analytics:** ON

#### –ù–∞—Å—Ç—Ä–æ–π—Ç–µ Alerts (Notifications):

**Alert 1: DDoS Attack**
```
Type: DDoS Attack Detected (HTTP/HTTPS)
Notification: Email to security@aladdin.family
```

**Alert 2: High Error Rate**
```
Type: Origin Error Rate Alert
Threshold: 100 errors in 5 minutes
Notification: Email to devops@aladdin.family
```

**Alert 3: SSL Expiry**
```
Type: Universal SSL Certificate
Event: Validation, Issuance, Renewal
Notification: Email to admin@aladdin.family
```

**–°—Ç–∞—Ç—É—Å:** –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –Ω–∞—Å—Ç—Ä–æ–µ–Ω ‚úÖ

---

## üìä –ò–¢–û–ì–û–í–´–ô –ß–ï–ö–õ–ò–°–¢

–ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –≤—Å–µ—Ö —ç—Ç–∞–ø–æ–≤ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:

```
‚òë Cloudflare –∞–∫–∫–∞—É–Ω—Ç —Å–æ–∑–¥–∞–Ω
‚òë –î–æ–º–µ–Ω aladdin.family –¥–æ–±–∞–≤–ª–µ–Ω
‚òë NS –∑–∞–ø–∏—Å–∏ –æ–±–Ω–æ–≤–ª–µ–Ω—ã —É —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
‚òë SSL/TLS: Full (strict) mode
‚òë Always Use HTTPS: ON
‚òë 5 Firewall Rules —Å–æ–∑–¥–∞–Ω—ã
‚òë 3 Rate Limiting Rules —Å–æ–∑–¥–∞–Ω—ã
‚òë 3 Page Rules –¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è
‚òë Security Headers –¥–æ–±–∞–≤–ª–µ–Ω—ã
‚òë Bot Fight Mode: ON
‚òë Performance –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏: ON
‚òë 3 Alert –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
```

---

## üéØ –ß–¢–û –ü–û–õ–£–ß–ò–¢–ï –ü–û–°–õ–ï –ù–ê–°–¢–†–û–ô–ö–ò

### üõ°Ô∏è –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:
- ‚úÖ –ó–∞—â–∏—Ç–∞ –æ—Ç DDoS –∞—Ç–∞–∫ (–¥–æ 100 –ì–±–∏—Ç/—Å)
- ‚úÖ WAF (–∑–∞—â–∏—Ç–∞ –æ—Ç SQL injection, XSS)
- ‚úÖ Rate Limiting (–∑–∞—â–∏—Ç–∞ –æ—Ç brute-force)
- ‚úÖ Bot protection (–±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –ø–ª–æ—Ö–∏—Ö –±–æ—Ç–æ–≤)
- ‚úÖ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π)

### ‚ö° –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:
- ‚úÖ CDN (–∫–æ–Ω—Ç–µ–Ω—Ç –±–ª–∏–∂–µ –∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º)
- ‚úÖ –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ (–±—ã—Å—Ç—Ä–µ–µ –∑–∞–≥—Ä—É–∑–∫–∞)
- ‚úÖ –°–∂–∞—Ç–∏–µ (Brotli, Gzip)
- ‚úÖ HTTP/3 (–±—ã—Å—Ç—Ä–µ–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ)

### üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:
- ‚úÖ Analytics (—Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞)
- ‚úÖ Alerts (—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –ø—Ä–æ–±–ª–µ–º–∞—Ö)
- ‚úÖ Firewall logs (–ª–æ–≥–∏ –∞—Ç–∞–∫)

---

## ‚è±Ô∏è –û–ë–©–ï–ï –í–†–ï–ú–Ø: 60-90 –º–∏–Ω—É—Ç

- –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è: 5 –º–∏–Ω
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –¥–æ–º–µ–Ω–∞: 10 –º–∏–Ω
- NS –∑–∞–ø–∏—Å–∏: 15-30 –º–∏–Ω (–æ–∂–∏–¥–∞–Ω–∏–µ)
- SSL/TLS: 2 –º–∏–Ω
- Firewall: 10 –º–∏–Ω
- Rate Limiting: 5 –º–∏–Ω
- Caching: 3 –º–∏–Ω
- Headers: 5 –º–∏–Ω
- Bots: 2 –º–∏–Ω
- Performance: 3 –º–∏–Ω
- Alerts: 5 –º–∏–Ω

---

## üí∞ –°–¢–û–ò–ú–û–°–¢–¨

**FREE –ø–ª–∞–Ω:** $0/–º–µ—Å—è—Ü
- ‚úÖ –î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è —Å—Ç–∞—Ä—Ç–∞
- ‚úÖ –î–æ 100K –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- ‚úÖ –ë–∞–∑–æ–≤—ã–π DDoS protection

**PRO –ø–ª–∞–Ω:** $20/–º–µ—Å—è—Ü (–∫–æ–≥–¥–∞ –Ω—É–∂–Ω–æ –±—É–¥–µ—Ç)
- üöÄ –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞
- üöÄ –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ WAF –ø—Ä–∞–≤–∏–ª–∞
- üöÄ Image optimization
- üöÄ Mobile optimization

---

## üìù –°–õ–ï–î–£–Æ–©–ò–ï –®–ê–ì–ò

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Cloudflare:

1. ‚úÖ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∑–∞—â–∏—Ç—É (security.cloudflare.com/scan)
2. ‚úÖ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å SSL (ssllabs.com/ssltest)
3. ‚úÖ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–∫–æ—Ä–æ—Å—Ç—å (webpagetest.org)
4. ‚úÖ –ú–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å –ª–æ–≥–∏ –ø–µ—Ä–≤—É—é –Ω–µ–¥–µ–ª—é

---

## üîó –ü–û–õ–ï–ó–ù–´–ï –°–°–´–õ–ö–ò

- Dashboard: https://dash.cloudflare.com
- Analytics: https://dash.cloudflare.com/analytics
- Firewall: https://dash.cloudflare.com/firewall
- Docs: https://developers.cloudflare.com

---

## ‚ö†Ô∏è –í–ê–ñ–ù–û

–≠—Ç–∞ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è **–†–£–ß–ù–û–ô** –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —á–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å Cloudflare.

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —á–µ—Ä–µ–∑ API –∏–ª–∏ Terraform **–ù–ï –ò–°–ü–û–õ–¨–ó–£–ï–¢–°–Ø**.

–î–µ–ª–∞–µ–º –≤—Å—ë –º–µ–¥–ª–µ–Ω–Ω–æ, –ø–æ —à–∞–≥–∞–º, –ø—Ä–æ–≤–µ—Ä—è—è –∫–∞–∂–¥—ã–π —ç—Ç–∞–ø! ‚úÖ




