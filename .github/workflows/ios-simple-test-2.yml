name: iOS Simple Test 2 - List Simulators

on:
  push:
    branches: [ main ]
    paths: [ 'mobile_apps/ALADDIN_iOS/simple_test_2.txt' ]

jobs:
  list-simulators-test:
    runs-on: macos-latest
    timeout-minutes: 5
    
    steps:
    - name: Checkout code
      uses: actions/checkout@v4
      
    - name: Setup Xcode
      uses: maxim-lobanov/setup-xcode@v1
      with:
        xcode-version: '16.0.0'
        
    - name: Test 2 - List Simulators
      run: |
        echo "üß™ –¢–ï–°–¢ 2: –°–ü–ò–°–û–ö –°–ò–ú–£–õ–Ø–¢–û–†–û–í"
        echo "================================"
        echo "–ü—Ä–æ–≤–µ—Ä—è–µ–º –¥–æ—Å—Ç—É–ø–Ω—ã–µ —Å–∏–º—É–ª—è—Ç–æ—Ä—ã..."
        
        echo "–í–µ—Ä—Å–∏—è Xcode:"
        xcodebuild -version
        
        echo ""
        echo "–î–æ—Å—Ç—É–ø–Ω—ã–µ iPhone —Å–∏–º—É–ª—è—Ç–æ—Ä—ã:"
        xcrun simctl list devices available | grep "iPhone" || echo "iPhone —Å–∏–º—É–ª—è—Ç–æ—Ä—ã –Ω–µ –Ω–∞–π–¥–µ–Ω—ã"
        
        echo ""
        echo "–í—Å–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞:"
        xcrun simctl list devices available | head -20
        
        echo ""
        echo "iOS SDK:"
        xcodebuild -showsdks | grep "iOS" || echo "iOS SDK –Ω–µ –Ω–∞–π–¥–µ–Ω—ã"
        
        echo "‚úÖ –¢–µ—Å—Ç 2 –∑–∞–≤–µ—Ä—à–µ–Ω —É—Å–ø–µ—à–Ω–æ"
        
    - name: Upload Test 2 Results
      uses: actions/upload-artifact@v4
      if: always()
      with:
        name: ios-simple-test-2
        path: .
        retention-days: 1
