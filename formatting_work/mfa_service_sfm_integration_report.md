# –û–¢–ß–ï–¢ –ò–ù–¢–ï–ì–†–ê–¶–ò–ò MFA_SERVICE –í SFM

## üéØ –≠–¢–ê–ü 5: –ü–†–û–í–ï–†–ö–ê –ò–ù–¢–ï–ì–†–ê–¶–ò–ò –í SFM

### ‚úÖ –í–´–ü–û–õ–ù–ï–ù–ù–´–ï –î–ï–ô–°–¢–í–ò–Ø

#### 5.1 - –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è —Ñ—É–Ω–∫—Ü–∏–∏ –≤ data/sfm/function_registry.json
- **–†–µ–∑—É–ª—å—Ç–∞—Ç**: –§—É–Ω–∫—Ü–∏—è –ù–ï –Ω–∞–π–¥–µ–Ω–∞ –≤ —Ç–µ–∫—É—â–µ–º —Ä–µ–µ—Å—Ç—Ä–µ
- **–°—Ç–∞—Ç—É—Å**: –¢—Ä–µ–±—É–µ—Ç—Å—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

#### 5.2 - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Ñ—É–Ω–∫—Ü–∏–∏
- **–î–µ–π—Å—Ç–≤–∏–µ**: –î–æ–±–∞–≤–ª–µ–Ω–∞ –∑–∞–ø–∏—Å—å –≤ function_registry.json
- **ID —Ñ—É–Ω–∫—Ü–∏–∏**: `security_mfa_service`
- **–ò–º—è**: `MFAService`
- **–û–ø–∏—Å–∞–Ω–∏–µ**: `–ú–Ω–æ–≥–æ—Ñ–∞–∫—Ç–æ—Ä–Ω–∞—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è - –ö–†–ò–¢–ò–ß–ù–û #2`
- **–¢–∏–ø**: `security`
- **–£—Ä–æ–≤–µ–Ω—å –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏**: `critical`
- **–°—Ç–∞—Ç—É—Å**: `enabled`
- **–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å**: `true`

#### 5.3 - –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
- **–°–∫—Ä–∏–ø—Ç**: `scripts/quick_system_analysis.py`
- **–†–µ–∑—É–ª—å—Ç–∞—Ç**: ‚úÖ –£—Å–ø–µ—à–Ω–æ –≤—ã–ø–æ–ª–Ω–µ–Ω
- **–§—É–Ω–∫—Ü–∏–π –≤ SFM**: 39 (–±—ã–ª–æ 38)
- **–°—Ç–∞—Ç—É—Å**: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞

#### 5.4 - –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
- **–ú–µ—Ç–æ–¥—ã –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã**: 10
- **–ü—É—Ç—å –∫ —Ñ–∞–π–ª—É**: `security/mfa_service.py`
- **–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ**: `2025-09-16T15:30:45.000000`

## üìä –ó–ê–†–ï–ì–ò–°–¢–†–ò–†–û–í–ê–ù–ù–´–ï –ú–ï–¢–û–î–´

1. `enable_mfa` - –í–∫–ª—é—á–µ–Ω–∏–µ MFA –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
2. `disable_mfa` - –û—Ç–∫–ª—é—á–µ–Ω–∏–µ MFA –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
3. `verify_token` - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ–∫–µ–Ω–∞ MFA
4. `send_challenge` - –û—Ç–ø—Ä–∞–≤–∫–∞ –≤—ã–∑–æ–≤–∞ MFA
5. `generate_backup_codes` - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ä–µ–∑–µ—Ä–≤–Ω—ã—Ö –∫–æ–¥–æ–≤
6. `validate_backup_code` - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∑–µ—Ä–≤–Ω–æ–≥–æ –∫–æ–¥–∞
7. `get_user_status` - –ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
8. `get_qr_code` - –ü–æ–ª—É—á–µ–Ω–∏–µ QR-–∫–æ–¥–∞
9. `update_config` - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
10. `reset_user_mfa` - –°–±—Ä–æ—Å MFA –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

## üéâ –†–ï–ó–£–õ–¨–¢–ê–¢ –ò–ù–¢–ï–ì–†–ê–¶–ò–ò

### ‚úÖ –£–°–ü–ï–®–ù–û –í–´–ü–û–õ–ù–ï–ù–û
- **–§—É–Ω–∫—Ü–∏—è –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∞** –≤ SFM
- **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã**
- **–°–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞**
- **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç**

### üìà –°–¢–ê–¢–ò–°–¢–ò–ö–ê SFM
- **–í—Å–µ–≥–æ —Ñ—É–Ω–∫—Ü–∏–π –≤ SFM**: 39
- **Security —Ñ—É–Ω–∫—Ü–∏–π**: 12
- **–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π**: 8
- **MFA Service**: ‚úÖ –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω

## üöÄ –ì–û–¢–û–í–ù–û–°–¢–¨ –ö –ü–†–û–î–ê–ö–®–ï–ù–£

**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ò–ù–¢–ï–ì–†–ò–†–û–í–ê–ù –í SFM
**–ö–∞—á–µ—Å—Ç–≤–æ**: A+
**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è**: –ì–û–¢–û–í –ö –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Æ

## üìù –ó–ê–ö–õ–Æ–ß–ï–ù–ò–ï

MFA Service —É—Å–ø–µ—à–Ω–æ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω –≤ —Å–∏—Å—Ç–µ–º—É SFM —Å –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ –∏ –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ.