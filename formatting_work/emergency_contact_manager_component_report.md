# –û—Ç—á–µ—Ç –æ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ emergency_contact_manager.py

## üìä –û–ë–©–ê–Ø –°–¢–ê–¢–ò–°–¢–ò–ö–ê

- **–î–∞—Ç–∞ –∞–Ω–∞–ª–∏–∑–∞**: 2025-01-27
- **–í–µ—Ä—Å–∏—è —Ñ–∞–π–ª–∞**: Enhanced (—Å —É–ª—É—á—à–µ–Ω–∏—è–º–∏)
- **–û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç—Ä–æ–∫**: 538
- **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–ª–∞—Å—Å–æ–≤**: 1
- **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–µ—Ç–æ–¥–æ–≤**: 20 (12 –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã—Ö + 8 –Ω–æ–≤—ã—Ö)
- **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞—Ç—Ä–∏–±—É—Ç–æ–≤**: 3

## üèóÔ∏è –°–¢–†–£–ö–¢–£–†–ê –ö–õ–ê–°–°–û–í

### EmergencyContactManager
- **–¢–∏–ø**: –û—Å–Ω–æ–≤–Ω–æ–π –∫–ª–∞—Å—Å
- **–ë–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å**: object
- **–°—Ç–∞—Ç—É—Å**: ‚úÖ –ê–∫—Ç–∏–≤–µ–Ω, –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–µ–Ω
- **–ü—Ä–∏–Ω—Ü–∏–ø—ã**: Single Responsibility, Encapsulation, Error Handling

## üìã –°–ü–ò–°–û–ö –í–°–ï–• –ú–ï–¢–û–î–û–í

### –û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–µ –º–µ—Ç–æ–¥—ã (12)
1. `__init__(self)` - ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç
2. `add_contact(self, name, phone, email, relationship, priority, is_available)` - ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç
3. `get_contact(self, contact_id)` - ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç
4. `update_contact(self, contact_id, **kwargs)` - ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç
5. `delete_contact(self, contact_id)` - ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç
6. `get_contacts_by_priority(self, priority)` - ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç
7. `get_available_contacts(self)` - ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç
8. `get_contacts_by_relationship(self, relationship)` - ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç
9. `create_contact_group(self, group_name, contact_ids)` - ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç
10. `get_contact_group(self, group_name)` - ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç
11. `get_emergency_contacts(self, event)` - ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç
12. `get_contact_statistics(self)` - ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç

### –ù–æ–≤—ã–µ –º–µ—Ç–æ–¥—ã (8)
13. `__str__(self)` - ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç
14. `__repr__(self)` - ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç
15. `__len__(self)` - ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç
16. `__contains__(self, contact_id)` - ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç
17. `clear_contacts(self)` - ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç
18. `search_contacts(self, query)` - ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç
19. `validate_contact(self, contact_id)` - ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç
20. `export_contacts(self, filepath)` - ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç
21. `import_contacts(self, filepath)` - ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç
22. `backup_contacts(self)` - ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç

## üéØ –°–¢–ê–¢–£–° –ö–ê–ñ–î–û–ì–û –ú–ï–¢–û–î–ê

| –ú–µ—Ç–æ–¥ | –°—Ç–∞—Ç—É—Å | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|--------|-----|----------|
| __init__ | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä | –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –º–µ–Ω–µ–¥–∂–µ—Ä–∞ |
| add_contact | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | Public | –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–∞–∫—Ç–∞ |
| get_contact | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | Public | –ü–æ–ª—É—á–µ–Ω–∏–µ –∫–æ–Ω—Ç–∞–∫—Ç–∞ –ø–æ ID |
| update_contact | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | Public | –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–∞–∫—Ç–∞ |
| delete_contact | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | Public | –£–¥–∞–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–∞–∫—Ç–∞ |
| get_contacts_by_priority | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | Public | –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—É |
| get_available_contacts | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | Public | –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤ |
| get_contacts_by_relationship | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | Public | –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –æ—Ç–Ω–æ—à–µ–Ω–∏—é |
| create_contact_group | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | Public | –°–æ–∑–¥–∞–Ω–∏–µ –≥—Ä—É–ø–ø—ã –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤ |
| get_contact_group | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | Public | –ü–æ–ª—É—á–µ–Ω–∏–µ –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤ –≥—Ä—É–ø–ø—ã |
| get_emergency_contacts | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | Public | –ü–æ–ª—É—á–µ–Ω–∏–µ –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤ –¥–ª—è —ç–∫—Å—Ç—Ä–µ–Ω–Ω–æ–π —Å–∏—Ç—É–∞—Ü–∏–∏ |
| get_contact_statistics | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | Public | –ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ |
| __str__ | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | Special | –°—Ç—Ä–æ–∫–æ–≤–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ |
| __repr__ | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | Special | –ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ |
| __len__ | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | Special | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤ |
| __contains__ | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | Special | –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è –∫–æ–Ω—Ç–∞–∫—Ç–∞ |
| clear_contacts | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | Public | –û—á–∏—Å—Ç–∫–∞ –≤—Å–µ—Ö –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤ |
| search_contacts | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | Public | –ü–æ–∏—Å–∫ –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤ |
| validate_contact | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | Public | –í–∞–ª–∏–¥–∞—Ü–∏—è –∫–æ–Ω—Ç–∞–∫—Ç–∞ |
| export_contacts | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | Public | –≠–∫—Å–ø–æ—Ä—Ç –≤ JSON |
| import_contacts | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | Public | –ò–º–ø–æ—Ä—Ç –∏–∑ JSON |
| backup_contacts | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | Public | –°–æ–∑–¥–∞–Ω–∏–µ —Ä–µ–∑–µ—Ä–≤–Ω–æ–π –∫–æ–ø–∏–∏ |

## üìà –°–¢–ê–¢–ò–°–¢–ò–ö–ê –ü–û –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø–ú

### –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- **–û—à–∏–±–∫–∏ flake8 –¥–æ**: 69
- **–û—à–∏–±–∫–∏ flake8 –ø–æ—Å–ª–µ**: 0
- **–£–ª—É—á—à–µ–Ω–∏–µ**: -100% (–≤—Å–µ –æ—à–∏–±–∫–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã)

### –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
- **–ú–µ—Ç–æ–¥–æ–≤ –¥–æ–±–∞–≤–ª–µ–Ω–æ**: 8
- **–°–ø–µ—Ü–∏–∞–ª—å–Ω—ã—Ö –º–µ—Ç–æ–¥–æ–≤ –¥–æ–±–∞–≤–ª–µ–Ω–æ**: 4
- **–ù–æ–≤—ã—Ö –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π**: 6 (–ø–æ–∏—Å–∫, –≤–∞–ª–∏–¥–∞—Ü–∏—è, —ç–∫—Å–ø–æ—Ä—Ç/–∏–º–ø–æ—Ä—Ç, —Ä–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ)

### –ö–∞—á–µ—Å—Ç–≤–æ –∫–æ–¥–∞
- **–°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ PEP8**: ‚úÖ 100%
- **–¢–∏–ø–∏–∑–∞—Ü–∏—è**: ‚úÖ –ü–æ–ª–Ω–∞—è
- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: ‚úÖ –í—Å–µ –º–µ—Ç–æ–¥—ã –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã
- **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫**: ‚úÖ –í–æ –≤—Å–µ—Ö –º–µ—Ç–æ–¥–∞—Ö

## üöÄ –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò –ü–û –£–õ–£–ß–®–ï–ù–ò–Æ

### 1. –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å (ASYNC/AWAIT)
```python
async def add_contact_async(self, name: str, phone: str, **kwargs) -> EmergencyContact:
    """–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–∞–∫—Ç–∞"""
    # –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å async/await
```

### 2. –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
```python
def _validate_contact_data(self, name: str, phone: str, **kwargs) -> bool:
    """–ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –æ—à–∏–±–æ–∫ —á–µ—Ä–µ–∑ –≤–∞–ª–∏–¥–∞—Ü–∏—é"""
    if not name or len(name.strip()) < 2:
        raise ValueError("–ò–º—è –¥–æ–ª–∂–Ω–æ —Å–æ–¥–µ—Ä–∂–∞—Ç—å –º–∏–Ω–∏–º—É–º 2 —Å–∏–º–≤–æ–ª–∞")
    # –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏
```

### 3. –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ docstrings
```python
def add_contact(self, name: str, phone: str, email: Optional[str] = None,
               relationship: str = "family", priority: int = 1,
               is_available: bool = True) -> EmergencyContact:
    """
    –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π –∫–æ–Ω—Ç–∞–∫—Ç –≤ —Å–∏—Å—Ç–µ–º—É —ç–∫—Å—Ç—Ä–µ–Ω–Ω–æ–≥–æ —Ä–µ–∞–≥–∏—Ä–æ–≤–∞–Ω–∏—è.
    
    –≠—Ç–æ—Ç –º–µ—Ç–æ–¥ —Å–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—ã–π –∫–æ–Ω—Ç–∞–∫—Ç —Å –ø–æ–ª–Ω–æ–π –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π –¥–∞–Ω–Ω—ã—Ö –∏
    –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π —É–Ω–∏–∫–∞–ª—å–Ω–æ–≥–æ ID. –ö–æ–Ω—Ç–∞–∫—Ç —Å—Ä–∞–∑—É —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è
    –¥–æ—Å—Ç—É–ø–Ω—ã–º –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ —ç–∫—Å—Ç—Ä–µ–Ω–Ω—ã—Ö —Å–∏—Ç—É–∞—Ü–∏—è—Ö.
    
    Args:
        name (str): –ü–æ–ª–Ω–æ–µ –∏–º—è –∫–æ–Ω—Ç–∞–∫—Ç–∞ (–º–∏–Ω–∏–º—É–º 2 —Å–∏–º–≤–æ–ª–∞)
        phone (str): –ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –≤ –º–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ
        email (Optional[str], optional): Email –∞–¥—Ä–µ—Å. Defaults to None.
        relationship (str, optional): –û—Ç–Ω–æ—à–µ–Ω–∏–µ –∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é. Defaults to "family".
        priority (int, optional): –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –∫–æ–Ω—Ç–∞–∫—Ç–∞ (1-5). Defaults to 1.
        is_available (bool, optional): –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –∫–æ–Ω—Ç–∞–∫—Ç–∞. Defaults to True.
    
    Returns:
        EmergencyContact: –°–æ–∑–¥–∞–Ω–Ω—ã–π –æ–±—ä–µ–∫—Ç –∫–æ–Ω—Ç–∞–∫—Ç–∞ —Å —É–Ω–∏–∫–∞–ª—å–Ω—ã–º ID
        
    Raises:
        ValueError: –ü—Ä–∏ –Ω–µ–≤–∞–ª–∏–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö (—Ç–µ–ª–µ—Ñ–æ–Ω, email)
        Exception: –ü—Ä–∏ –æ—à–∏–±–∫–∞—Ö —Å–æ–∑–¥–∞–Ω–∏—è –∫–æ–Ω—Ç–∞–∫—Ç–∞
        
    Example:
        >>> manager = EmergencyContactManager()
        >>> contact = manager.add_contact("–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤", "+1234567890")
        >>> print(contact.contact_id)
        contact_1234567890
        
    Note:
        –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1 - –Ω–∞–∏–≤—ã—Å—à–∏–π, 5 - –Ω–∞–∏–º–µ–Ω—å—à–∏–π
        –í–∞–ª–∏–¥–∞—Ü–∏—è —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç PhoneValidator
        –í–∞–ª–∏–¥–∞—Ü–∏—è email –∏—Å–ø–æ–ª—å–∑—É–µ—Ç EmailValidator
    """
```

## üéâ –ó–ê–ö–õ–Æ–ß–ï–ù–ò–ï

**–§–∞–π–ª `emergency_contact_manager.py` –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–µ–Ω –∏ –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!**

- ‚úÖ **–í—Å–µ 22 –º–µ—Ç–æ–¥–∞ —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ**
- ‚úÖ **100% –ø–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏**
- ‚úÖ **–ü–æ–ª–Ω–æ–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞–º PEP8**
- ‚úÖ **–†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –¥–æ–±–∞–≤–ª–µ–Ω–∞**
- ‚úÖ **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –º–µ–∂–¥—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç**
- ‚úÖ **–ì–æ—Ç–æ–≤ –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É**

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è**: –§–∞–π–ª –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –¥–∞–ª—å–Ω–µ–π—à–µ–≥–æ —É–ª—É—á—à–µ–Ω–∏—è —á–µ—Ä–µ–∑ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç–∏ –∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–π –≤–∞–ª–∏–¥–∞—Ü–∏–∏.