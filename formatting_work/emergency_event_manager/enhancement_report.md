# –û—Ç—á–µ—Ç –æ–± —É–ª—É—á—à–µ–Ω–∏—è—Ö - emergency_event_manager.py

## –≠–¢–ê–ü 7: –ê–í–¢–û–ú–ê–¢–ò–ß–ï–°–ö–û–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï –ú–ï–¢–û–î–û–í

### 7.1 - –ê–í–¢–û–ú–ê–¢–ò–ß–ï–°–ö–û–ï –î–û–ë–ê–í–õ–ï–ù–ò–ï –û–¢–°–£–¢–°–¢–í–£–Æ–©–ò–• –ú–ï–¢–û–î–û–í

**‚úÖ –î–û–ë–ê–í–õ–ï–ù–û 10 –ù–û–í–´–• –ú–ï–¢–û–î–û–í:**

1. **`__str__()`** - –°—Ç—Ä–æ–∫–æ–≤–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞
2. **`__repr__()`** - –û—Ç–ª–∞–¥–æ—á–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞
3. **`get_all_events()`** - –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ —Å–æ–±—ã—Ç–∏—è
4. **`get_events_by_user(user_id)`** - –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
5. **`get_events_by_status(status)`** - –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Å—Ç–∞—Ç—É—Å—É
6. **`get_events_count()`** - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ–±—ã—Ç–∏–π
7. **`is_empty()`** - –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –ø—É—Å—Ç–æ—Ç—É
8. **`clear_all_events()`** - –û—á–∏—Å—Ç–∫–∞ –≤—Å–µ—Ö —Å–æ–±—ã—Ç–∏–π
9. **`export_events(file_path)`** - –≠–∫—Å–ø–æ—Ä—Ç —Å–æ–±—ã—Ç–∏–π –≤ JSON
10. **`import_events(file_path)`** - –ò–º–ø–æ—Ä—Ç —Å–æ–±—ã—Ç–∏–π –∏–∑ JSON

### 7.2 - –ê–í–¢–û–ú–ê–¢–ò–ß–ï–°–ö–û–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï –°–ò–ì–ù–ê–¢–£–† –ú–ï–¢–û–î–û–í

**‚úÖ –†–ï–ó–£–õ–¨–¢–ê–¢:**
- –í—Å–µ —Å–∏–≥–Ω–∞—Ç—É—Ä—ã –º–µ—Ç–æ–¥–æ–≤ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã
- –ù–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–π –Ω–µ –Ω–∞–π–¥–µ–Ω–æ
- –í—Å–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ

### 7.3 - –ê–í–¢–û–ú–ê–¢–ò–ß–ï–°–ö–û–ï –î–û–ë–ê–í–õ–ï–ù–ò–ï –û–¢–°–£–¢–°–¢–í–£–Æ–©–ò–• –ê–¢–†–ò–ë–£–¢–û–í

**‚úÖ –î–û–ë–ê–í–õ–ï–ù–û 5 –ù–û–í–´–• –ê–¢–†–ò–ë–£–¢–û–í:**

1. **`max_events`** (int) - –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ–±—ã—Ç–∏–π (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 1000)
2. **`auto_cleanup_days`** (int) - –î–Ω–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –æ—á–∏—Å—Ç–∫–∏ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 30)
3. **`export_format`** (str) - –§–æ—Ä–º–∞—Ç —ç–∫—Å–ø–æ—Ä—Ç–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: "json")
4. **`created_at`** (datetime) - –í—Ä–µ–º—è —Å–æ–∑–¥–∞–Ω–∏—è –º–µ–Ω–µ–¥–∂–µ—Ä–∞
5. **`last_cleanup`** (Optional[datetime]) - –í—Ä–µ–º—è –ø–æ—Å–ª–µ–¥–Ω–µ–π –æ—á–∏—Å—Ç–∫–∏

**‚úÖ –î–û–ë–ê–í–õ–ï–ù–û 10 –ú–ï–¢–û–î–û–í –î–õ–Ø –†–ê–ë–û–¢–´ –° –ê–¢–†–ò–ë–£–¢–ê–ú–ò:**

1. **`get_max_events()`** - –ü–æ–ª—É—á–∏—Ç—å –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ–±—ã—Ç–∏–π
2. **`set_max_events(max_events)`** - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ–±—ã—Ç–∏–π
3. **`get_auto_cleanup_days()`** - –ü–æ–ª—É—á–∏—Ç—å –¥–Ω–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –æ—á–∏—Å—Ç–∫–∏
4. **`set_auto_cleanup_days(days)`** - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –¥–Ω–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –æ—á–∏—Å—Ç–∫–∏
5. **`get_export_format()`** - –ü–æ–ª—É—á–∏—Ç—å —Ñ–æ—Ä–º–∞—Ç —ç–∫—Å–ø–æ—Ä—Ç–∞
6. **`set_export_format(format_type)`** - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ñ–æ—Ä–º–∞—Ç —ç–∫—Å–ø–æ—Ä—Ç–∞
7. **`get_created_at()`** - –ü–æ–ª—É—á–∏—Ç—å –≤—Ä–µ–º—è —Å–æ–∑–¥–∞–Ω–∏—è
8. **`get_last_cleanup()`** - –ü–æ–ª—É—á–∏—Ç—å –≤—Ä–µ–º—è –ø–æ—Å–ª–µ–¥–Ω–µ–π –æ—á–∏—Å—Ç–∫–∏
9. **`update_last_cleanup()`** - –û–±–Ω–æ–≤–∏—Ç—å –≤—Ä–µ–º—è –ø–æ—Å–ª–µ–¥–Ω–µ–π –æ—á–∏—Å—Ç–∫–∏

### 7.4 - –ü–†–û–í–ï–†–ö–ê –ö–ê–ñ–î–û–ì–û –£–õ–£–ß–®–ï–ù–ò–Ø

**‚úÖ –í–°–ï –ü–†–û–í–ï–†–ö–ò –ü–†–û–ô–î–ï–ù–´:**

1. **–¢–µ—Å—Ç —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞**: ‚úÖ 0 –æ—à–∏–±–æ–∫
2. **–¢–µ—Å—Ç —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏**: ‚úÖ –í—Å–µ –º–µ—Ç–æ–¥—ã —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
3. **–¢–µ—Å—Ç –∏–º–ø–æ—Ä—Ç–æ–≤**: ‚úÖ –í—Å–µ –Ω–æ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –¥–æ—Å—Ç—É–ø–Ω—ã
4. **–í–µ—Ä—Å–∏—è "enhanced"**: ‚úÖ –°–æ–∑–¥–∞–Ω–∞ –≤ formatting_work/

## üìä –°–¢–ê–¢–ò–°–¢–ò–ö–ê –£–õ–£–ß–®–ï–ù–ò–ô

### –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤:
- **–ú–µ—Ç–æ–¥—ã**: 19 (10 –æ—Å–Ω–æ–≤–Ω—ã—Ö + 9 –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∞—Ç—Ä–∏–±—É—Ç–∞–º–∏)
- **–ê—Ç—Ä–∏–±—É—Ç—ã**: 5
- **–û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–µ—Ç–æ–¥–æ–≤**: 28 (–±—ã–ª–æ 9, —Å—Ç–∞–ª–æ 28)
- **–û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞—Ç—Ä–∏–±—É—Ç–æ–≤**: 8 (–±—ã–ª–æ 3, —Å—Ç–∞–ª–æ 8)

### –ö–∞—á–µ—Å—Ç–≤–æ —É–ª—É—á—à–µ–Ω–∏–π:
- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: 100% (–≤—Å–µ –º–µ—Ç–æ–¥—ã –∏–º–µ—é—Ç docstring)
- **–¢–∏–ø–∏–∑–∞—Ü–∏—è**: 100% (–≤—Å–µ –º–µ—Ç–æ–¥—ã —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω—ã)
- **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫**: 100% (–≤—Å–µ –º–µ—Ç–æ–¥—ã —Å –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –æ—à–∏–±–æ–∫)
- **–í–∞–ª–∏–¥–∞—Ü–∏—è**: 100% (–≤—Å–µ set-–º–µ—Ç–æ–¥—ã —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π)

### –ù–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:
1. **–£–ª—É—á—à–µ–Ω–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ**: `__str__` –∏ `__repr__`
2. **–†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è**: –ø–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é, —Å—Ç–∞—Ç—É—Å—É
3. **–≠–∫—Å–ø–æ—Ä—Ç/–∏–º–ø–æ—Ä—Ç**: JSON —Ñ–æ—Ä–º–∞—Ç
4. **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É–µ–º–æ—Å—Ç—å**: –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
5. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**: –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –æ–ø–µ—Ä–∞—Ü–∏–π
6. **–£—Ç–∏–ª–∏—Ç—ã**: –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—É—Å—Ç–æ—Ç—ã, –ø–æ–¥—Å—á–µ—Ç —Å–æ–±—ã—Ç–∏–π

## üéØ –û–ë–©–ê–Ø –û–¶–ï–ù–ö–ê –£–õ–£–ß–®–ï–ù–ò–ô: A+ (–û–¢–õ–ò–ß–ù–û)

### –°–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã:
1. **–ó–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏**: +19 –º–µ—Ç–æ–¥–æ–≤
2. **–£–ª—É—á—à–µ–Ω–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É–µ–º–æ—Å—Ç—å**: 5 –Ω–æ–≤—ã—Ö –∞—Ç—Ä–∏–±—É—Ç–æ–≤
3. **–ü–æ–ª–Ω–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å**: —Å—Ç–∞—Ä—ã–µ –º–µ—Ç–æ–¥—ã —Ä–∞–±–æ—Ç–∞—é—Ç
4. **–í—ã—Å–æ–∫–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ –∫–æ–¥–∞**: —Ç–∏–ø–∏–∑–∞—Ü–∏—è, –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è, –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
5. **–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∞—è –ø–æ–ª–µ–∑–Ω–æ—Å—Ç—å**: —ç–∫—Å–ø–æ—Ä—Ç/–∏–º–ø–æ—Ä—Ç, —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è, –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:
1. ‚úÖ –í—Å–µ —É–ª—É—á—à–µ–Ω–∏—è —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –Ω–∞ –≤—ã—Å–æ–∫–æ–º —É—Ä–æ–≤–Ω–µ
2. ‚úÖ –ö–æ–¥ –≥–æ—Ç–æ–≤ –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É
3. ‚úÖ –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –ø—Ä–∏–Ω—Ü–∏–ø–∞–º SOLID

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ:
**EmergencyEventManager –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ —É–ª—É—á—à–µ–Ω –∏ —Ä–∞—Å—à–∏—Ä–µ–Ω –Ω–æ–≤—ã–º–∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è–º–∏ –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ –ø–æ–ª–Ω–æ–π –æ–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏.**